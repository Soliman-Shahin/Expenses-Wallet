<ion-content *ngIf="response$ | async as categories">
  <ion-toolbar>
    <ion-searchbar
      animated="true"
      [placeholder]="'SEARCH' | translate"
      [debounce]="500"
      show-clear-button="always"
      (ionInput)="filter($event)"
    >
    </ion-searchbar>
  </ion-toolbar>

  <ion-infinite-scroll (ionInfinite)="onIonInfinite($event)">
    <ion-infinite-scroll-content>
      <ion-spinner *ngIf="isLoadingResults" name="crescent"></ion-spinner>
      <ion-list *ngIf="categories.total > 0; else noData">
        <ion-reorder-group
          [disabled]="false"
          (ionItemReorder)="handleReorder($any($event))"
        >
          <ion-item *ngFor="let item of categories.data; let index">
            <span class="category-icon" [style.background]="item.color">
              <ion-icon size="large" [name]="item.icon"></ion-icon>
            </span>
            <ion-label>{{ item.title }}</ion-label>
            <ion-buttons slot="end">
              <ion-button (click)="presentActionSheet(item)">
                <ion-icon slot="icon-only" name="ellipsis-vertical"></ion-icon>
              </ion-button>
            </ion-buttons>
            <ion-reorder slot="end"></ion-reorder>
          </ion-item>
        </ion-reorder-group>
      </ion-list>
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>



<ng-template #noData>
  <div class="no_data">
    <ion-icon size="large" name="sad"></ion-icon>
    <p>{{ "NO_DATA" | translate }}</p>
  </div>
</ng-template>
